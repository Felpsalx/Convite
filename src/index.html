<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="./styles/style.scss">
        <link rel="shortcut icon" href="./images/bolo.png" type="image/x-icon">
        <title>Convite</title>
    </head>
        <body>
            <div class="container">
                <div class="convite">
                    <div class="convite__title">
                        <h1>Convite para meu aniversario</h1>
                    </div>
                    <div class="convite__details">
                        <img src="./images/bolo.png" alt="Bolo aniversario">
                        <div class="convite__details__text">
                            <p>Você esta sendo convidado para meu aniversario que acontecera em: <span id="count"></span></p>
                           <ul>
                            <li>
                                <h4>Rua:</h4>
                                minha rua n° 123
                            </li>
                            <li>
                                <h4>Horario:</h4>
                                23:00 PM
                            </li>
                           </ul>
                           <img class="ai" src="./images/pessoa.png" alt="">
                        </div>
                        <button class="convite__details__btn" onclick="abrir()">Abrir</button>
                    </div>
                </div>
                
            </div>
            <script>
                    let conviteOpen = document.querySelector(".convite__details__text")
    const btn = document.querySelector("button")

    function abrir(){
        conviteOpen.classList.toggle("convite__details__text-is--active")
        if(conviteOpen.classList.contains("convite__details__text-is--active") ){
            btn.innerText = "Fechar"
        }else{
            btn.innerText = "Abrir"
        }
        const dataEvent = new Date ("Dec 28, 2023 23:00:00");

    const timeStampEvent = dataEvent.getTime();

    const contaHoras = setInterval(()=>{
        
        const now = new Date();
        const timeStampAtual = now.getTime();


        const diaEmMs = 1000 * 60 * 60 * 24;
        const HoraEmMs = 1000 * 60 * 60
        const minutes = 1000 * 60;

        const distanciaAteOEvento = timeStampEvent - timeStampAtual;

        const diasAteOEvento = Math.floor( distanciaAteOEvento / (diaEmMs) );

        const HorasAteOEvento = Math.floor(distanciaAteOEvento % (diaEmMs) / (HoraEmMs))

        const MinutosAteOEvento = Math.floor(distanciaAteOEvento % (HoraEmMs) / (minutes))
        
        const segundosAteOEvento = Math.floor(distanciaAteOEvento % (minutes) / (1000))
            
        document.getElementById('count').innerHTML = `${diasAteOEvento}Dias ${HorasAteOEvento}Hr ${MinutosAteOEvento}Min ${segundosAteOEvento}Seg`;

        if(distanciaAteOEvento < 0){
            clearInterval(contaHoras);
            document.getElementById('count').innerHTML = "Evento Expirado";
        }
    }, 1000) 
    }


            </script>
            <script src="./scripts/index.js" ></script>
        </body>
</html>